<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
<button id="json" onclick='myConsole(jsonData)'>JSON显示效果</button>
  <button id="arr" onclick='myConsole(arrData)'>数组显示效果</button>
  <button id="multi" onclick='myConsole(multiData)'>多层嵌套显示效果</button>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script>

  var jsonData = {
    name: '小明',
    age: 12
  };
  var arrData = [1, 2, 'xiaoming', '小明', 5];
  var multiData = {
    name: '小明',
    skill: ['足球', '音乐', '数学'],
    classMate: [{
        name: '小红',
        age: 11
      },
      {
        name: '二狗',
        sex: 'male'
      }
    ],
    age: 12
  }

  function myConsole(data) {
    var str = getJson(data);
    $('body').append(
      "<div class='show-json' style='position:fixed;z-index:999;left: 0;right: 0;top: 0;bottom: 0;padding: 5% 3%;background:rgba(0,0,0,.8);color: #fff;font-size: 14px;overflow: auto;'>" +
      str + "</div>");
    $('.show-json').on('click', function () {
      $(this).remove();
    })

    function getJson(obj, floor) {
      var enter = '</br>';
      var str = '';
      var deep = floor || 1;
      if (obj.constructor === Number || obj.constructor === String || obj.constructor === Boolean || obj.constructor ===
        Date) {
        if (obj.constructor === Date) {
          obj = obj.toLocaleString();
        }
        str += obj;

      } else {
        if (obj.constructor === Array) {
          str += '[' + enter;
          for (var i = 0; i <= obj.length - 1; i++) {
            str += getSpace(deep) + getJson(obj[i], deep + 1) + enter;
          }
          str += getSpace(deep - 1) + ']';
        } else if (obj.constructor === Object) {
          str += '{' + enter;
          for (var key in obj) {
            str += getSpace(deep) + key + ':' + getJson(obj[key], deep + 1) + enter;
          }
          str += getSpace(deep - 1) + '}';
        }
      }
      return str;
    }

    function getSpace(deep) { //返回空格
      var space = ' . ';
      if (deep === 0) {
        space = '';
      } else {
        for (var i = 0; i < deep - 1; i++) {
          space += ' . ';
        }
      }
      return space;
    }
  }
</script>

</html>